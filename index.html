<!DOCTYPE html>
<html>
	<head>
		<meta charset ="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="stylesheet" href="lib/bootstrap-4.4.1-dist/css/bootstrap.min.css"/>
		<link rel="stylesheet" href="main.css"/>
		<title>Книжный магазин 2.0</title>
	</head>
	<body>
		<div class="container">
			<div class="row">
				<div class="col-9 container">
					<div id="header1" class="container text-right clearfix">
						<span id="login">
							<button type="button" class="btn btn-info">Вход</button>
							<button type="button" class="btn btn-info">Регистрация</button>			
						</span>
						<span id="logout">
							<span id="username">username</span>
							<button type="button" class="btn btn-info">Выйти</button>
						</span>
						<button type="button" class="btn btn-info">Корзина</button>
					</div>
					<form id="search" class="form-inline" action="findBooks">
						<div class="container text-right clearfix">
							<input id="search_string" class="form-control text-right mb-2" name="search_string" placeholder="Автор или название"/>
							<button type="submit" class="btn btn-primary mb-2">Найти</button>
							<button type="submit" class="btn btn-primary mb-2">Сортировка</button>
						</div>
					</form>
					
					<h2>Книжный магазин</h2>
					<div id="main" class="row">
						<div class="col-md-8">
							<div class="btn-toolbar" role="toolbar">
								<div class="btn-group" role="group">
									<button type="button" class="btn btn-info" data-page="shop">Магазин</button>
								</div>
								<div class="btn-group pull-right" role="group">
									<button type="button" class="btn btn-info" data-page="catalog">Каталог</button>
								</div>
								<div class="btn-group pull-right" role="group">
									<button type="button" class="btn btn-info" data-page="authors">Авторы</button>
									<button type="button" class="btn btn-info" data-page="books">Книги</button>
								</div>
							</div>
							<div id="page"></div>
							<div id="alert"></div>
						</div>
					</div>
				</div>
				<div class="col-3 border border-info container">
					<div class="row">
						<button id="btn-conninfo" class="col btn btn-link btn-sm" type="button" data-toggle="collapse" data-target="#conninfo" aria-expanded="false" aria-controls="conninfo">
							conninfo
						</button>
						<span class="col form-check m-1" data-toggle="tooltip" data-placement="left" title="SET log_min_duration_statements = 0">
							<input type="checkbox" class="form-check-input" id="trace">
							<label class="form-check-label" for="trace">Trace</label>
						</span>
						<span id="loader" class="spinner-border spinner-border-sm invisible m-1"></span>
					</div>
					<div id="conninfo" class="collapse border pl-2 pr-2"></div>
					<div id="action" class="mt-2"></div>
				</div>
			</div>
		</div>
		<script src="lib/jquery-3.4.1.min.js"></script>
		<script src="lib/popper.min.js"></script>
		<script src="lib/bootstrap-4.4.1-dist/js/bootstrap.min.js"></script>
		<script src="main.js"></script>
		<script>
			$(
				()=>{
					lib.chkCmd();
					
					//display page
					$('.btn[data-page]').click(
						e=>{
							$('.btn[data-page]').not(e.target).removeClass('btn-primary').addClass('btn-info');
							$(e.target).removeClass('btn-info').addClass('btn-primary');
							lib.displayPage($(e.target).data('page'));
						}
					);
				}
			);
		</script>
	</body>
</html>
